<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:p="http://primefaces.org/ui" xmlns:s="http://jboss.org/schema/seam/taglib" xmlns:wc="http://witchcraft.sourceforge.net/jsf">  
  <p:dataTable var="_drug" value="#{records}" tableStyle="width:auto"> 
    <p:column headerText="#{msg.Drug} #{msg.id}" sortBy="#{drug.id}" rendered="#{s:hasPermission('id', 'viewId' )}"> 
      <h:link outcome="/admin/entities/drugs/drug/viewDrug.xhtml" rendered="#{s:hasPermission(_drug, 'view')}" propagation="none"> 
        <h:outputText value="#{_drug.id}"/>  
        <f:param name="drugId" value="#{_drug.id}"/> 
      </h:link> 
    </p:column>  
    <p:column style="width:2%"> 
      <p:rowToggler/> 
    </p:column>  
    <p:rowExpansion> 
      <ui:include src="/admin/entities/drugs/drugInteraction/miniListDrugInteractionComponent.xhtml"> 
        <ui:param name="records" value="#{_drug.drugInteractions}"/>  
        <ui:param name="excludeDrug" value="true"/> 
      </ui:include> 
    </p:rowExpansion>  
    <p:column headerText="#{msg.drug_name}" sortBy="#{drug.name}" rendered="#{ ! excludeName == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewName')) }"> 
      <h:outputText value="#{_drug.name}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_absorption}" sortBy="#{drug.absorption}" rendered="#{ ! excludeAbsorption == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewAbsorption')) }"> 
      <h:outputText value="#{_drug.absorption}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_biotransformation}" sortBy="#{drug.biotransformation}" rendered="#{ ! excludeBiotransformation == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewBiotransformation')) }"> 
      <h:outputText value="#{_drug.biotransformation}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_atcCodes}" sortBy="#{drug.atcCodes}" rendered="#{ ! excludeAtcCodes == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewAtcCodes')) }"> 
      <h:outputText value="#{_drug.atcCodes}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_contraIndication}" sortBy="#{drug.contraIndication}" rendered="#{ ! excludeContraIndication == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewContraIndication')) }"> 
      <h:outputText value="#{_drug.contraIndication}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_description}" sortBy="#{drug.description}" rendered="#{ ! excludeDescription == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewDescription')) }"> 
      <h:outputText value="#{_drug.description}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_dosageForm}" sortBy="#{drug.dosageForm}" rendered="#{ ! excludeDosageForm == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewDosageForm')) }"> 
      <h:outputText value="#{_drug.dosageForm}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_foodInteractions}" sortBy="#{drug.foodInteractions}" rendered="#{ ! excludeFoodInteractions == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewFoodInteractions')) }"> 
      <h:outputText value="#{_drug.foodInteractions}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_halfLife}" sortBy="#{drug.halfLife}" rendered="#{ ! excludeHalfLife == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewHalfLife')) }"> 
      <h:outputText value="#{_drug.halfLife}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_indication}" sortBy="#{drug.indication}" rendered="#{ ! excludeIndication == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewIndication')) }"> 
      <h:outputText value="#{_drug.indication}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_halfLifeNumberOfHours}" sortBy="#{drug.halfLifeNumberOfHours}" rendered="#{ ! excludeHalfLifeNumberOfHours == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewHalfLifeNumberOfHours')) }"> 
      <h:outputText value="#{_drug.halfLifeNumberOfHours}"> 
        <f:convertNumber pattern="000.00"/> 
      </h:outputText> 
    </p:column>  
    <p:column headerText="#{msg.drug_mechanismOfAction}" sortBy="#{drug.mechanismOfAction}" rendered="#{ ! excludeMechanismOfAction == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewMechanismOfAction')) }"> 
      <h:outputText value="#{_drug.mechanismOfAction}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_patientInfo}" sortBy="#{drug.patientInfo}" rendered="#{ ! excludePatientInfo == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewPatientInfo')) }"> 
      <h:outputText value="#{_drug.patientInfo}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_pharmacology}" sortBy="#{drug.pharmacology}" rendered="#{ ! excludePharmacology == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewPharmacology')) }"> 
      <h:outputText value="#{_drug.pharmacology}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_toxicity}" sortBy="#{drug.toxicity}" rendered="#{ ! excludeToxicity == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewToxicity')) }"> 
      <h:outputText value="#{_drug.toxicity}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_routeOfElimination}" sortBy="#{drug.routeOfElimination}" rendered="#{ ! excludeRouteOfElimination == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewRouteOfElimination')) }"> 
      <h:outputText value="#{_drug.routeOfElimination}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_volumeOfDistribution}" sortBy="#{drug.volumeOfDistribution}" rendered="#{ ! excludeVolumeOfDistribution == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewVolumeOfDistribution')) }"> 
      <h:outputText value="#{_drug.volumeOfDistribution}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_drugBankId}" sortBy="#{drug.drugBankId}" rendered="#{ ! excludeDrugBankId == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewDrugBankId')) }"> 
      <h:outputText value="#{_drug.drugBankId}" escape="false"/> 
    </p:column>  
    <p:column headerText="#{msg.drug_categories}" sortBy="#{drug.categories}" rendered="#{ ! excludeCategories == true and ( skipPermissionCheck == 'true' || s:hasPermission('drug', 'viewCategories')) }"> 
      <h:outputText value="#{_drug.categories}" escape="false"/> 
    </p:column>  
    <p:column rendered="#{s:hasPermission('_drug', 'edit') and !_drugCategory.archived}"> 
      <h:link outcome="/admin/entities/drugs/drug/editDrug.xhtml" rendered="#{s:hasPermission(_drug, 'edit')}"> 
        <h:graphicImage value="/images/icons/edit.png" style="border: 0px" alt="edit"/>  
        <f:param name="drugId" value="#{_drug.id}"/>  
        <s:conversationId/> 
      </h:link> 
    </p:column> 
  </p:dataTable> 
</ui:composition>
